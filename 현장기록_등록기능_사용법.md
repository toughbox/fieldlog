# 🎯 현장 기록 등록 기능 사용법

## 📱 진입 경로

### 1. 홈 화면에서 진입
- **새 기록** 버튼 클릭 → 현장 기록 등록 화면으로 바로 이동
- **기록 목록** 버튼 클릭 → 현장 기록 목록 화면 → 우측 상단 ➕ 버튼 클릭

### 2. 현장 기록 목록에서 진입
- 헤더의 ➕ 버튼 클릭
- 빈 상태일 때 "첫 번째 기록 작성" 버튼 클릭

## 🛠️ 현장 기록 등록 과정

### 1단계: 현장 선택 ⭐
현장을 선택하면 **파란색 박스**가 나타나며 다음 정보가 표시됩니다:
- 현장 색상 표시
- 현장 이름
- "선택된 현장" 라벨
- "선택됨" 뱃지
- 안내 메시지: "이 현장의 사용자 정의 필드가 아래에 표시됩니다"

### 2단계: 기본 정보 입력
- **제목** (필수): 기록의 제목 입력
- **설명**: 상세 설명 입력
- **상태**: 대기/진행중/완료/취소 선택
- **우선순위**: 1(낮음) ~ 5(긴급) 선택  
- **마감일**: YYYY-MM-DD 형식으로 입력

### 3단계: 상세 정보 입력
선택한 현장의 사용자 정의 필드가 자동으로 표시됩니다:
- **텍스트 필드**: 일반 텍스트 입력
- **숫자 필드**: 숫자만 입력 가능
- **선택 필드**: 드롭다운에서 선택
- **긴 텍스트**: 여러 줄 텍스트 입력

### 4단계: 태그 추가
- 태그 입력 후 "추가" 버튼 클릭
- 추가된 태그를 클릭하면 삭제됨
- 태그는 필터링에 유용함

### 5단계: 저장
- 모든 필수 필드 입력 확인
- "기록 생성" 버튼 클릭
- 성공 시 이전 화면으로 돌아감

## 🎯 주요 기능

### ✅ 입력 검증
- 현장 선택 필수
- 제목 입력 필수
- 사용자 정의 필드의 필수 항목 검증
- 실시간 유효성 검사

### 🎨 시각적 피드백
- 현장 선택 시 명확한 UI 변화
- 로딩 상태 표시
- 에러 메시지 알림
- 성공 시 확인 메시지

### 📋 사용자 정의 필드
- 현장별 맞춤형 입력 항목
- 동적 폼 생성
- 다양한 입력 타입 지원
- 필수/선택 필드 구분

## 🔄 기록 관리

### 목록 보기
- 페이징 지원 (무한 스크롤)
- 실시간 검색
- 필터링 (현장, 상태, 우선순위)
- 새로고침 기능

### 상세 보기
- 완전한 기록 정보 표시
- 첨부파일, 위치, 태그 정보
- 수정/삭제 버튼
- 일정 정보 (생성일, 마감일, 완료일)

### 수정 기능
- 모든 필드 수정 가능
- 현장 변경 시 사용자 정의 필드 업데이트
- 실시간 검증

## 🧪 테스트 데이터

⚠️ **목데이터 제거됨**: 이제 실제로 등록한 현장과 기록만 표시됩니다.

### 초기 상태
- 현장 목록: 빈 상태 (사용자가 직접 생성한 현장만 표시)
- 기록 목록: 빈 상태 (사용자가 직접 생성한 기록만 표시)

### 데이터 생성 흐름
1. **현장 생성** → 현장 관리에서 확인 가능
2. **기록 생성** → 기록 목록에서 확인 가능
3. **앱 재시작 시** → 현재는 메모리 저장이므로 데이터 초기화됨

### 영구 저장을 원한다면
실제 백엔드 API를 사용하거나 AsyncStorage 구현 필요

## 🚀 다음 단계

실제 백엔드 연동을 원한다면 `src/services/api.ts`에서:
```typescript
// Mock API 비활성화
export const currentApi = authApi;
export const currentFieldApi = fieldApi;  
export const currentRecordApi = recordApi;
```

현재는 개발/테스트를 위해 Mock API가 활성화되어 있습니다!
